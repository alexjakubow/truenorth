---
title: "Lifecycle Open Science: OSF Preprint Assertions"
date: "2025-08-12"
output: html_document
---

# Overview

This method measures lifecycle open science on OSF by looking at preprint assertions linked to open science preprints.

## Definitions

> **OSP**Open Science Preprint (OSP): An OSF Preprint that is jointly *open*, *non-deprecated*, and *authentic*

- Openness Criteria:
    1. Public (open-1)

- Non-Deprecation Criteria:
    1. Published (nondeprecated-1)
    2. Not Deleted (nondeprecated-2)
    3. Not Withdrawn (nondeprecated-3)

- Authenticity Criteria:
    1. Not Spam (authentic-1)

>  **LOS-Preprint**: An OSP that represents a lifecycle open science research project.

- Lifecycle Open Criteria:

    1. **Plan**: The OSP has at least 1 linked preregistration
    2. **Output**: The OSP has at least 1 linked dataset


# Results

## Today
Here is the current state of LOS research projects on the OSF as of `r max(all_ts$date)`.  For all of the summary tables below, the following fields are included:

- `<GROUP_NAME>`: An optional grouping variable for seeing disaggregated results (e.g., by provider, institutional membership, etc.)
- `OSP`: Number of Open Science Preprints (i.e., Open + Non-deprecated + Authentic)
- `OSP + Plan`: Number of Open Science Preprints with at least one linked output resource
- `OSP + Outcome(s)`: Number of Open Science Preprints with at least one linked outcome resource
- `LOS-Preprint`: Lifecycle Open Science Preprints - number of Open Science Preprints with at least one linked outcome and at least one linked output resource
- `LOS-Preprint / OSP`: Percentage of Open Science OSF Preprints (OSP) that are Lifecycle Open Science Preprints (LOS-Preprint)


### Aggregate

```{r}
overall_tbl <- all_summary |>
    filter(criteria %in% TABLE_CRITERIA) |>
    pivot_wider(names_from = criteria, values_from = n) 
names(overall_tbl) <-c("Date", TABLE_NAMES)

overall_tbl <- overall_tbl |>
    mutate(
        `LOS-Preprint / OSP` = `LOS-Preprint` / `OSP`,
    )

today_gtbl <- overall_tbl |>
    filter(Date == MOST_RECENT) |>
    select(-Date) |>
    table_helper("Lifecycle Open Science Preprints", use_pagination = FALSE, use_sorting = FALSE)

today_gtbl
```

### By Provider

```{r}
provider_tbl <- provider_summary |>
    filter(criteria %in% TABLE_CRITERIA) |>
    pivot_wider(names_from = criteria, values_from = n) 
names(provider_tbl) <-c("Date", "Provider", TABLE_NAMES)

provider_tbl <- provider_tbl |>
    mutate(
        `LOS-Preprint / OSP` = `LOS-Preprint` / `OSP`,
    )

today_provider_tbl <- provider_tbl |>    
    filter(Date == MOST_RECENT) |>
    select(-Date) |>    
    table_helper("Lifecycle Open Science Preprints by Provider", use_pagination = FALSE)

today_provider_tbl
```


## Time to Lifecycle Open Science
<!-- 
# DEPRECATED

## Today

Here is the current state of LOS research projects on the OSF as of `r max(all_ts$date)`:


First, in aggregate:

```{r}
today_all <- all_ts |>
    filter(date == max(date)) |>
    tidy_table()

today_all
```

And also by provider:

```{r}
today_provider <- provider_ts |>
    filter(date == max(date)) |>
    tidy_table(provider) |>
    filter(Status %in% c("LOS-Preprint", "Open Sci. Preprints (OSP)")) |>
    pivot_wider(id_cols = registry, names_from = Status, values_from = N)  |>
    mutate(`LOS-Preprint %` = `LOS-Preprint` / `Open Sci. Preprints (OSP)` * 100) |>
    arrange(desc(`LOS-Preprints %`))

today_registry
```


```{r}
los_summary_long <- los_summary |>
    pivot_longer(
        cols = starts_with("n_"),
        names_to = "state",
        names_prefix = "n_",
        values_to = "n"
    )
    
los_summary_long |>
    filter(state %in% c("total", "valid", "los", "los_valid")) |>
    mutate(state = factor(state, levels = c("total", "valid", "los", "los_valid"))) |>
    ggplot(aes(x = as.Date(date), y = n, group = state, color = state)) + 
    geom_line() +
    theme_minimal() +
    scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
    scale_y_continuous(labels = scales::comma) +
    labs(y = "Number of projects", x = "Date") +
    theme(legend.position = "bottom")
```

Note, these efficiencies are under-estimates, since we do not exclude preprints coming from provdiders that do not enable author assertions.

```{r}
los_summary |>
    pivot_longer(
        cols = starts_with("los_"),
        names_to = "state",
        names_prefix = "los_",
        values_to = "p"
    ) |>
    filter(grepl("efficiency", state)) |>
    mutate(state = factor(state, levels = c("efficiency", "efficiency_valid"))) |>
    ggplot(aes(x = as.Date(date), y = p, group = state, color = state)) +
    geom_line() +
    theme_minimal() +
    scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
    scale_y_continuous(labels = scales::percent) +
    labs(y = "Efficiency", x = "Date") +
    theme(legend.position = "bottom", legend.title = element_blank())
```
 -->
